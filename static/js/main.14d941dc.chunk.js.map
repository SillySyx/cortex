{"version":3,"sources":["components/input-box.js","components/loading-indicator.js","icons/logo.js","services/crypto.js","pages/login/loginPage.js","components/page-header.js","components/context-menu.js","components/button.js","components/error.js","icons/cog.js","icons/key.js","services/passwords.js","services/clipboard.js","pages/passwords/listView.js","pages/passwords/addCategoryView.js","components/checkbox.js","pages/passwords/editCategoryView.js","icons/generate.js","services/passphrase.js","pages/passwords/addPasswordView.js","icons/copy.js","pages/passwords/editPasswordView.js","services/webrtc.js","pages/passwords/syncView.js","pages/passwords/passwordsPage.js","index.js"],"names":["InputBox","props","ref","createRef","this","focus","current","value","valueChanged","event","key","submitted","aborted","className","class","label","mandatory","type","password","placeholder","onChange","e","updateValue","target","onKeyPress","keyPressed","children","error","Component","LoadingIndicator","loading","viewBox","xmlns","fill","d","attributeName","attributeType","from","to","dur","repeatCount","Logo","clicked","onClick","generateKeyFromSeed","seed","a","crypto","subtle","encoded","TextEncoder","encode","digest","hashed","Uint8Array","encrypt","data","iv","getRandomValues","algorithm","name","importKey","cryptoKey","encodedData","encryptedData","decrypt","decryptedData","decodedData","TextDecoder","decode","loadKey","sessionStorage","getItem","parsedKey","JSON","parse","storeKey","stringify","setItem","verifyKey","verification","localStorage","encrypted","entry","createEncryptedDataEntry","parseEncryptedDataEntry","bytes","decrypted","LoginPage","state","setState","loaded","login","process","PageHeader","title","description","ContextMenu","open","stopPropagation","opened","setOpen","ContextMenuContent","Button","disabled","_class","active","LinkButton","Error","text","Cog","Key","PasswordService","id","loadPasswords","passwords","category","push","uuidv4","timestamp","Date","now","storePasswords","find","item","filter","sort","b","toLowerCase","localeCompare","categoryId","passwordId","some","_password","newPasswords","newCategory","c","newPassword","p","keyLoaded","encryptedDataEntry","passwordData","writeToClipboard","navigator","clipboard","writeText","ListView","passwordService","globalHotKeys","handleGlobalHotkey","bind","searchText","document","addEventListener","listPasswords","removeEventListener","ctrlKey","element","querySelector","view","changeView","loadPassword","removeItem","logout","filteredPasswords","fuzzySearch","length","map","index","renderCategory","renderPassword","copyDescription","copyPassword","source","pattern","join","RegExp","test","AddCategoryView","titleError","createCategory","changeTitle","addCategory","CheckBox","checked","toggled","toggle","EditCategoryView","confirmReset","loadCategory","saveCategory","removeCategory","confirmRemove","Generate","randomWord","wordlist","Math","floor","random","AddPasswordView","nameError","passwordError","passphrase","adjectives","nouns","verbs","createPassword","changeName","changePassword","generatePassphrase","addPassword","Copy","points","EditPasswordView","savePassword","removePassword","WebRtcService","socket","WebSocket","rtc","RTCPeerConnection","connected","disconnected","message","msg","setupWebSocket","setupWebRtc","close","onmessage","makeOffer","makeAnswer","acceptAnswer","onopen","_","send","ondatachannel","setupWebRtcChannel","channel","onclose","createDataChannel","timeout","onicecandidate","candidate","clearTimeout","setTimeout","localDescription","createOffer","offer","setLocalDescription","setRemoteDescription","createAnswer","answer","SyncView","webRtcService","sendPasswords","syncPasswords","closeConnection","sendMessage","mergePasswords","renderStatus","resetData","PasswordsPage","App","loggedIn","render","getElementById"],"mappings":"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","file":"static/js/main.14d941dc.chunk.js","sourcesContent":["import { Component, createRef } from 'react';\n\nimport './input-box.css';\n\nexport class InputBox extends Component {\n    constructor(props) {\n        super(props);\n        this.ref = createRef();\n    }\n\n    componentDidMount() {\n        if (this.props.focus) {\n            this.ref.current.focus();\n        }\n    }\n\n    updateValue(value) {\n        if (this.props.valueChanged) {\n            this.props.valueChanged(value);\n        }\n    }\n\n    keyPressed(event) {\n        if (event.key === \"Enter\" && this.props.submitted) {\n            this.props.submitted();\n        }\n        if (event.key === \"Escape\" && this.props.aborted) {\n            this.props.aborted();\n        }\n    }\n\n    render() {\n        return (\n            <div className={`input-box ${this.props.class}`}>\n                {this.props.label &&\n                    <div className=\"input-box-label\">\n                        <label>{this.props.label}</label>\n                        {this.props.mandatory && !this.props.value &&\n                            <span className=\"input-box-error-indicator\">*</span>\n                        }\n                    </div>\n                }\n\n                <div className=\"input-box-container\">\n                    <input\n                        ref={this.ref}\n                        type={this.props.password ? \"password\" : \"text\"}\n                        value={this.props.value}\n                        placeholder={this.props.placeholder}\n                        onChange={e => this.updateValue(e.target.value)}\n                        onKeyPress={e => this.keyPressed(e)}>\n                    </input>\n\n                    {this.props.children}\n                </div>\n                { this.props.error &&\n                    <div className=\"input-box-error\">\n                        {this.props.error}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nexport class TextBox extends InputBox {\n    render() {\n        return (\n            <div className={`input-box ${this.props.class}`}>\n                {this.props.label &&\n                    <div className=\"input-box-label\">\n                        <label>{this.props.label}</label>\n                        {this.props.mandatory && !this.props.value &&\n                            <span className=\"input-box-error-indicator\">*</span>\n                        }\n                    </div>\n                }\n\n                <div className=\"input-box-container\">\n                    <textarea \n                        ref={this.ref}\n                        value={this.props.value}\n                        placeholder={this.props.placeholder}\n                        onChange={e => this.updateValue(e.target.value)}\n                        onKeyPress={e => this.keyPressed(e)}>\n                    </textarea>\n                </div>\n                { this.props.error &&\n                    <div className=\"input-box-error\">\n                        {this.props.error}\n                    </div>\n                }\n            </div>\n        );\n    }\n}","import { Component } from 'react';\n\nimport './loading-indicator.css';\n\nexport class LoadingIndicator extends Component {\n\trender() {\n        if (this.props.loading) {\n            return (\n                <svg className=\"loading-indicator\" viewBox=\"0 0 128 128\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\">\n                    <path d=\"M64 128A64 64 0 0 1 18.34 19.16L21.16 22a60 60 0 1 0 52.8-17.17l.62-3.95A64 64 0 0 1 64 128z\">\n                        <animateTransform \n                            attributeName=\"transform\"\n                            attributeType=\"XML\"\n                            type=\"rotate\"\n                            from=\"0 64 64\"\n                            to=\"360 64 64\"\n                            dur=\"1s\"\n                            repeatCount=\"indefinite\" />\n                    </path>\n                </svg>\n            );\n        }\n\n\t\treturn this.props.children;\n\t}\n}","import { Component } from 'react';\n\nexport class Logo extends Component {\n    clicked() {\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n\trender() {\n\t\treturn (\n            <svg className={this.props.class} viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" onClick={() => this.clicked()}>\n                <path d=\"M306,83c-5.52,0-10,4.48-10,10s4.48,10,10,10c5.52,0,10-4.48,10-10S311.52,83,306,83z\" />\n                <path d=\"M206,83c-5.52,0-10,4.48-10,10s4.48,10,10,10s10-4.48,10-10S211.52,83,206,83z\" />\n                <path d=\"M473.123,298.882C481.706,286,486,269.927,486,256c0-20.996-9.327-40.503-25.332-53.731 C464.21,193.805,466,185.002,466,176c0-27.855-16.256-53.803-40.425-65.92c3.667-30.414-16.151-58.292-45.52-65.403 C368.56,18.104,342.975,0,316,0c-25.11,0-47.631,14.646-60,36.016C243.63,14.646,221.109,0,196,0 c-26.977,0-52.562,18.104-64.055,44.678c-29.545,7.156-49.177,35.173-45.52,65.402C62.257,122.196,46,148.145,46,176 c0,9.002,1.79,17.805,5.332,26.269C35.327,215.498,26,235.004,26,256c0,14,4.33,30.052,12.877,42.881 C30.525,310.671,26,324.644,26,339c0,18.616,7.548,36.35,20.899,49.518C40.035,430.01,73.125,472,116,472 c0.31,0,0.615-0.005,0.914-0.014C131.129,496.508,157.515,512,186,512c29.688,0,56.216-17.82,70-43.494 C269.784,494.18,296.312,512,326,512c28.485,0,54.871-15.492,69.086-40.014c0.3,0.009,0.604,0.014,0.914,0.014 c37.944,0,70-33.43,70-73c0-3.369-0.296-6.834-0.899-10.482C478.452,375.35,486,357.617,486,339 C486,324.644,481.475,310.671,473.123,298.882z M246,151.381c-5.888-3.415-12.717-5.381-20-5.381c-5.523,0-10,4.477-10,10 s4.477,10,10,10c11.028,0,20,8.972,20,20v190.169C231.329,359.528,209.877,349,186,349c-5.523,0-10,4.477-10,10s4.477,10,10,10 c33.084,0,60,26.916,60,60c0,34.149-27.477,63-60,63c-23.152,0-44.465-13.691-54.299-34.88c-1.813-3.905-5.919-6.208-10.2-5.726 c-0.707,0.081-1.41,0.175-2.113,0.271c-28.46,3.892-60.51-28.335-51.834-64.387c0.891-3.703-0.399-7.589-3.326-10.025 C52.644,367.614,46,353.671,46,339c0-9.071,2.565-17.948,7.338-25.732C65.332,323.098,80.251,329,96,329c5.523,0,10-4.477,10-10 s-4.477-10-10-10c-27.139,0-50-24.77-50-53c0-17.125,8.729-32.879,23.352-42.142c4.505-2.854,5.978-8.741,3.347-13.38 C68.254,192.639,66,184.403,66,176c0-26.99,22.002-53,50-53c26.636,0,50,24.767,50,53c0,5.523,4.477,10,10,10s10-4.477,10-10 c0-39.57-32.056-73-70-73c-3.348,0-6.678,0.271-9.975,0.784C106.02,103.521,106,103.265,106,103c0-22.317,18.117-40,40-40 c10.682,0,20.73,4.161,28.292,11.715c3.907,3.903,10.238,3.899,14.142-0.007c3.903-3.908,3.9-10.239-0.007-14.142 c-9.123-9.113-20.662-14.925-33.167-16.851C164.079,30.624,178.744,20,196,20c26.636,0,50,24.766,50,53V151.381z M416,329 c15.75,0,30.669-5.903,42.663-15.729C463.435,321.054,466,329.93,466,339c0,14.671-6.644,28.614-18.227,38.253 c-2.928,2.436-4.217,6.323-3.326,10.025c1.06,4.403,1.553,8.128,1.553,11.721c0,31.04-28.075,56.126-53.387,52.666 c-0.703-0.096-1.407-0.191-2.114-0.271c-4.287-0.485-8.388,1.821-10.199,5.726C370.466,478.309,349.151,492,326,492 c-32.523,0-60-28.851-60-63c0-33.084,26.916-60,60-60c5.522,0,10-4.477,10-10s-4.478-10-10-10c-23.877,0-45.329,10.528-60,27.169 V186c0-11.028,8.972-20,20-20c5.522,0,10-4.477,10-10s-4.478-10-10-10c-7.283,0-14.112,1.966-20,5.381V73 c0-28.234,23.364-53,50-53c17.256,0,31.92,10.624,40.739,23.714c-12.504,1.926-24.042,7.738-33.166,16.851 c-3.908,3.903-3.912,10.234-0.009,14.142c3.903,3.908,10.236,3.911,14.142,0.008C345.271,67.161,355.318,63,366,63 c21.993,0,40,17.787,40,40c0,0.264-0.02,0.521-0.025,0.784C402.678,103.271,399.348,103,396,103c-37.944,0-70,33.43-70,73 c0,5.523,4.478,10,10,10c5.522,0,10-4.477,10-10c0-28.233,23.364-53,50-53c27.982,0,50,25.997,50,53 c0,8.403-2.254,16.639-6.699,24.478c-2.63,4.639-1.157,10.526,3.348,13.38C457.271,223.121,466,238.875,466,256 c0,28.331-22.941,53-50,53c-5.522,0-10,4.477-10,10S410.478,329,416,329z\" /> \n                <path d=\"M223.453,214.053c-3.682-4.116-10.003-4.468-14.12-0.786C177.265,241.952,126,219.027,126,176c0-5.523-4.477-10-10-10 s-10,4.477-10,10c0,34.715,25.407,63.595,58.6,69.057C160.75,257.185,149.386,266,136,266c-5.523,0-10,4.477-10,10s4.477,10,10,10 c24.357,0,44.69-17.51,49.102-40.602c13.907-1.819,26.996-7.77,37.565-17.225C226.783,224.491,227.135,218.169,223.453,214.053z\" />\n                <path d=\"M116,389c-5.523,0-10,4.477-10,10s4.477,10,10,10c26.636,0,50,24.767,50,53c0,5.523,4.477,10,10,10s10-4.477,10-10 C186,422.43,153.944,389,116,389z\" />\n                <path d=\"M196,309c-33.886,0-62.98,18.585-78.3,45.608c-2.723,4.805-1.036,10.908,3.768,13.631 c4.805,2.723,10.907,1.037,13.631-3.768C147.034,343.415,169.68,329,196,329c5.523,0,10-4.477,10-10S201.523,309,196,309z\" />\n                <path d=\"M376,266c-13.386,0-24.75-8.815-28.6-20.943C380.593,239.595,406,210.715,406,176c0-5.523-4.478-10-10-10 c-5.522,0-10,4.477-10,10c0,27.57-22.43,50-50,50c-12.316,0-24.153-4.522-33.333-12.733c-4.115-3.682-10.438-3.331-14.12,0.786 c-3.683,4.116-3.33,10.438,0.786,14.12c10.569,9.455,23.659,15.406,37.565,17.225C331.31,268.49,351.643,286,376,286 c5.522,0,10-4.477,10-10S381.522,266,376,266z\" />\n                <path d=\"M396,389c-37.944,0-70,33.43-70,73c0,5.523,4.478,10,10,10c5.522,0,10-4.477,10-10c0-28.233,23.364-53,50-53 c5.522,0,10-4.477,10-10S401.522,389,396,389z\" />\n                <path d=\"M394.3,354.609C379.018,327.65,349.964,309,316,309c-5.522,0-10,4.477-10,10s4.478,10,10,10 c26.301,0,48.964,14.411,60.899,35.471c2.727,4.811,8.834,6.489,13.631,3.769C395.335,365.517,397.022,359.414,394.3,354.609z\" />\n            </svg>\n\t\t);\n\t}\n}","export async function generateKeyFromSeed(seed) {\n    if (!crypto.subtle)\n        return [false, null];\n\n    try {\n        const encoded = new TextEncoder().encode(seed);\n        const hashed = await crypto.subtle.digest(\"SHA-256\", encoded);\n\n        return [true, new Uint8Array(hashed)];\n    }\n    catch {\n        return [false, null];\n    }\n}\n\nexport async function encrypt(key, data) {\n    if (!crypto.subtle)\n        return [false, null, null];\n\n    try {\n        const iv = crypto.getRandomValues(new Uint8Array(12));\n\n        const algorithm = {\n            name: \"AES-GCM\",\n            iv: iv,\n        };\n\n        const cryptoKey = await crypto.subtle.importKey(\"raw\", key, algorithm, false, [\"encrypt\"]);\n\n        const encodedData = new TextEncoder().encode(data);\n\n        const encryptedData = await crypto.subtle.encrypt(algorithm, cryptoKey, encodedData);\n\n        return [true, iv, new Uint8Array(encryptedData)];\n    }\n    catch {\n        return [false, null, null];\n    }\n}\n\nexport async function decrypt(key, iv, encryptedData) {\n    if (!crypto.subtle)\n        return [false, null];\n\n    try {\n        const algorithm = {\n            name: \"AES-GCM\",\n            iv: iv,\n        };\n\n        const cryptoKey = await crypto.subtle.importKey(\"raw\", key, algorithm, false, [\"decrypt\"]);\n\n        const decryptedData = await crypto.subtle.decrypt(algorithm, cryptoKey, encryptedData);\n\n        const decodedData = new TextDecoder().decode(decryptedData);\n\n        return [true, decodedData];\n    }\n    catch {\n        return [false, null];\n    }\n}\n\nexport function loadKey() {\n    const key = sessionStorage.getItem(\"key\");\n    if (!key) {\n        return [false, null];\n    }\n\n    const parsedKey = JSON.parse(key);\n\n    return [true, new Uint8Array(parsedKey)];\n}\n\nexport function storeKey(key) {\n    if (!key) {\n        return false;\n    }\n\n    const parsedKey = JSON.stringify([...key]);\n\n    sessionStorage.setItem(\"key\", parsedKey);\n\n    return true;\n}\n\nexport async function verifyKey(key) {\n    const verification = localStorage.getItem(\"verification\");\n    if (!verification) {\n        const [encrypted, iv, data] = await encrypt(key, \"valid\");\n        if (!encrypted) {\n            return false;\n        }\n\n        const entry = createEncryptedDataEntry(iv, data);\n        localStorage.setItem(\"verification\", entry);\n\n        return true;\n    }\n\n    const [iv, bytes] = parseEncryptedDataEntry(verification);\n    const [decrypted, data] = await decrypt(key, iv, bytes);\n    if (!decrypted) {\n        return false;\n    }\n\n    return data === \"valid\";\n}\n\nexport function createEncryptedDataEntry(iv, data) {\n    return JSON.stringify({\n        iv: [...iv],\n        bytes: [...data]\n    });\n}\n\nexport function parseEncryptedDataEntry(entry) {\n    const { iv, bytes } = JSON.parse(entry);\n    return [new Uint8Array(iv), new Uint8Array(bytes)];\n}","import { Component } from 'react';\n\nimport { InputBox } from '../../components/input-box';\nimport { LoadingIndicator } from '../../components/loading-indicator';\n\nimport { Logo } from '../../icons/logo';\n\nimport { generateKeyFromSeed, storeKey, verifyKey } from '../../services/crypto';\n\nimport './login.css';\n\nexport class LoginPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password: \"\",\n            error: \"\",\n            loading: false,\n        };\n    }\n\n    async login() {\n        if (!this.state.password) {\n            return;\n        }\n\n        this.setState({\n            loading: true,\n        });\n\n        const [loaded, key] = await generateKeyFromSeed(this.state.password);\n        if (!loaded) {\n            return this.setState({\n                error: \"Failed to generate key from password\",\n                loading: false,\n            });\n        }\n\n        const verified = await verifyKey(key);\n        if (!verified) {\n            return this.setState({\n                error: \"Incorrect key specified\",\n                loading: false,\n            });\n        }\n\n        const stored = storeKey(key);\n        if (!stored) {\n            return this.setState({\n                error: \"Failed to store key\",\n                loading: false,\n            });\n\n        }\n\n        this.setState({\n            loading: false,\n        });\n\n        this.props.login();\n    }\n\n    render() {\n        return (\n            <div className=\"login-layout login-background\">\n                <div className=\"login-content\">\n                    <Logo class=\"login-logo\" />\n\n                    <LoadingIndicator loading={this.state.loading}>\n                        <InputBox\n                            class=\"login-input\"\n                            placeholder=\"Enter your password\"\n                            focus={true}\n                            password={true}\n                            value={this.state.value}\n                            valueChanged={value => this.setState({ password: value })}\n                            error={this.state.error}\n                            submitted={() => this.login()}>\n                        </InputBox>\n                    </LoadingIndicator>\n\n                    <p>{process.env.REACT_APP_VERSION}</p>\n                </div>\n            </div>\n        );\n    }\n}","import { Component } from 'react';\n\nimport './page-header.css';\n\nexport class PageHeader extends Component {\n    render() {\n        return (\n            <div className=\"page-header\">\n                { this.props.children &&\n                    <div className=\"page-header-content\">\n                        {this.props.children}\n                    </div>\n                }\n\n                <h1 className=\"page-header-title\">{this.props.title}</h1>\n\n                { this.props.description &&\n                    <p className=\"page-header-description\">{this.props.description}</p>\n                }\n            </div>\n        );\n    }\n}","import { Component } from 'react';\n\nimport './context-menu.css';\n\nexport class ContextMenu extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false,\n        };\n    }\n\n    setOpen(event, value) {\n        event.stopPropagation();\n        this.setState({\n            open: value,\n        });\n    }\n\n\trender() {\n        const opened = this.state.open ? \" open\" : \"\";\n\n\t\treturn (\n            <div className={`context-menu ${opened}`} onClick={e => this.setOpen(e, true)}>\n                <div className=\"context-menu-backdrop\" onClick={e => this.setOpen(e, false)}></div>\n                { this.props.children }\n            </div>\n        );\n\t}\n}\n\nexport class ContextMenuContent extends Component {\n\trender() {\n\t\treturn (\n            <div className=\"context-menu-content\">\n                { this.props.children }\n            </div>\n        );\n\t}\n}","import { Component } from 'react';\n\nimport './button.css';\n\nexport class Button extends Component {\n    clicked() {\n        if (this.props.disabled)\n            return;\n\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n    render() {\n        const _class = this.props.class ? this.props.class : \"\";\n        const active = this.props.active ? \"active\" : \"\";\n        const disabled = this.props.disabled ? \"disabled\" : \"\";\n\n        return (\n            <div className={`main-button ${_class} ${active} ${disabled}`} onClick={() => this.clicked()}>\n                { this.props.children}\n            </div>\n        );\n    }\n}\n\nexport class LinkButton extends Component {\n    clicked() {\n        if (this.props.disabled)\n            return;\n\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n    render() {\n        const _class = this.props.class ? this.props.class : \"\";\n        const active = this.props.active ? \"active\" : \"\";\n        const disabled = this.props.disabled ? \"disabled\" : \"\";\n\n        return (\n            <div className={`link-button ${_class} ${active} ${disabled}`} onClick={() => this.clicked()}>\n                { this.props.children}\n            </div>\n        );\n    }\n}","import { Component } from 'react';\n\nimport './error.css';\n\nexport class Error extends Component {\n    render() {\n        return (\n            <div className=\"error-message\">\n                { this.props.title &&\n                    <h2 className=\"error-message-title\">{this.props.title}</h2>\n                }\n                { this.props.text &&\n                    <p className=\"error-message-text\">{this.props.text}</p>\n                }\n                { this.props.children &&\n                    <div className=\"error-message-content\">\n                        {this.props.children}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import { Component } from 'react';\n\nimport './cog.css';\n\nexport class Cog extends Component {\n\trender() {\n\t\treturn (\n            <svg className={`cog-icon ${this.props.class}`} viewBox=\"0 0 439 439\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\">\n                <path d=\"M436.25,181.438c-1.529-2.002-3.524-3.193-5.995-3.571l-52.249-7.992c-2.854-9.137-6.756-18.461-11.704-27.98 c3.422-4.758,8.559-11.466,15.41-20.129c6.851-8.661,11.703-14.987,14.561-18.986c1.523-2.094,2.279-4.281,2.279-6.567 c0-2.663-0.66-4.755-1.998-6.28c-6.848-9.708-22.552-25.885-47.106-48.536c-2.275-1.903-4.661-2.854-7.132-2.854 c-2.857,0-5.14,0.855-6.854,2.567l-40.539,30.549c-7.806-3.999-16.371-7.52-25.693-10.565l-7.994-52.529 c-0.191-2.474-1.287-4.521-3.285-6.139C255.95,0.806,253.623,0,250.954,0h-63.38c-5.52,0-8.947,2.663-10.278,7.993 c-2.475,9.513-5.236,27.214-8.28,53.1c-8.947,2.86-17.607,6.476-25.981,10.853l-39.399-30.549 c-2.474-1.903-4.948-2.854-7.422-2.854c-4.187,0-13.179,6.804-26.979,20.413c-13.8,13.612-23.169,23.841-28.122,30.69 c-1.714,2.474-2.568,4.664-2.568,6.567c0,2.286,0.95,4.57,2.853,6.851c12.751,15.42,22.936,28.549,30.55,39.403 c-4.759,8.754-8.47,17.511-11.132,26.265l-53.105,7.992c-2.093,0.382-3.9,1.621-5.424,3.715C0.76,182.531,0,184.722,0,187.002 v63.383c0,2.478,0.76,4.709,2.284,6.708c1.524,1.998,3.521,3.195,5.996,3.572l52.25,7.71c2.663,9.325,6.564,18.743,11.704,28.257 c-3.424,4.761-8.563,11.468-15.415,20.129c-6.851,8.665-11.709,14.989-14.561,18.986c-1.525,2.102-2.285,4.285-2.285,6.57 c0,2.471,0.666,4.658,1.997,6.561c7.423,10.284,23.125,26.272,47.109,47.969c2.095,2.094,4.475,3.138,7.137,3.138 c2.857,0,5.236-0.852,7.138-2.563l40.259-30.553c7.808,3.997,16.371,7.519,25.697,10.568l7.993,52.529 c0.193,2.471,1.287,4.518,3.283,6.14c1.997,1.622,4.331,2.423,6.995,2.423h63.38c5.53,0,8.952-2.662,10.287-7.994 c2.471-9.514,5.229-27.213,8.274-53.098c8.946-2.858,17.607-6.476,25.981-10.855l39.402,30.84c2.663,1.712,5.141,2.563,7.42,2.563 c4.186,0,13.131-6.752,26.833-20.27c13.709-13.511,23.13-23.79,28.264-30.837c1.711-1.902,2.569-4.09,2.569-6.561 c0-2.478-0.947-4.862-2.857-7.139c-13.698-16.754-23.883-29.882-30.546-39.402c3.806-7.043,7.519-15.701,11.136-25.98l52.817-7.988 c2.279-0.383,4.189-1.622,5.708-3.716c1.523-2.098,2.279-4.288,2.279-6.571v-63.376 C438.533,185.671,437.777,183.438,436.25,181.438z M270.946,270.939c-14.271,14.277-31.497,21.416-51.676,21.416 c-20.177,0-37.401-7.139-51.678-21.416c-14.272-14.271-21.411-31.498-21.411-51.673c0-20.177,7.135-37.401,21.411-51.678 c14.277-14.272,31.504-21.411,51.678-21.411c20.179,0,37.406,7.139,51.676,21.411c14.274,14.277,21.413,31.501,21.413,51.678 C292.359,239.441,285.221,256.669,270.946,270.939z\" />\n            </svg>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nexport class Key extends Component {\n    clicked() {\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n\trender() {\n\t\treturn (\n            <svg className={this.props.class} viewBox=\"0 0 213 213\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" onClick={() => this.clicked()}>\n                <path d=\"M192.162,23.09C178.799,9.726,161.031,2.367,142.133,2.367c-18.899,0-36.667,7.359-50.03,20.724 c-22.74,22.739-26.716,57.225-11.968,84.095l-19.938,19.938c-0.335-0.414-0.69-0.815-1.072-1.197l-14.15-14.15 c-2.849-2.849-6.637-4.418-10.666-4.418c-4.028,0-7.816,1.568-10.666,4.418c-5.882,5.882-5.882,15.451,0,21.333l14.15,14.151 c0.382,0.381,0.782,0.736,1.196,1.071l-5.405,5.405l-7.833-7.833c-2.849-2.85-6.637-4.419-10.666-4.419 c-4.03,0-7.818,1.569-10.666,4.419C1.569,148.751,0,152.539,0,156.569s1.569,7.817,4.419,10.666l7.86,7.861 c-7.666,8.251-7.507,21.189,0.521,29.22c3.979,3.979,9.271,6.17,14.897,6.17s10.918-2.191,14.897-6.171l67.895-67.895 c9.704,4.863,20.471,7.453,31.642,7.453c18.898,0,36.666-7.359,50.029-20.724C219.749,95.563,219.749,50.676,192.162,23.09z M160.343,91.329c-10.057,10.057-26.363,10.057-36.42,0s-10.057-26.363,0-36.42s26.363-10.057,36.42,0S170.4,81.272,160.343,91.329z\" />\n            </svg>\n\t\t);\n\t}\n}","import { v4 as uuidv4 } from 'uuid';\n\nimport { createEncryptedDataEntry, parseEncryptedDataEntry, encrypt, decrypt, loadKey } from './crypto';\n\nexport class PasswordService {\n    async loadCategory(id) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return [false, null];\n\n        for (const category of passwords) {\n            if (category.id === id) {\n                return [true, category];\n            }\n        }\n\n        return [false, null];\n    }\n\n    async createCategory(title) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        passwords.push({\n            id: uuidv4(),\n            timestamp: Date.now(),\n            title: title,\n            passwords: [],\n        });\n\n        return await storePasswords(passwords);\n    }\n\n    async saveCategory(id, title) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        let category = passwords.find(item => item.id === id);\n        if (!category)\n            return false;\n            \n        category.title = title;\n        category.timestamp = Date.now();\n\n        return await storePasswords(passwords);\n    }\n\n    async removeCategory(id) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        passwords = passwords.filter(category => category.id !== id);\n\n        return await storePasswords(passwords);\n    }\n\n    async listPasswords() {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return [false, null];\n\n        passwords.sort((a, b) => a.title.toLowerCase().localeCompare(b.title.toLowerCase()));\n        for (const category of passwords) {\n            category.passwords.sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));\n        }\n\n        return [true, passwords];\n    }\n\n    async loadPassword(id) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return [false, null];\n\n        for (const category of passwords) {\n            for (const password of category.passwords) {\n                if (password.id === id) {\n                    return [true, password];\n                }\n            }\n        }\n\n        return [false, null];\n    }\n\n    async createPassword(categoryId, name, description, password) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        let category = passwords.find(category => category.id === categoryId);\n        if (!category)\n            return false;\n\n        category.passwords.push({\n            id: uuidv4(),\n            timestamp: Date.now(),\n            name: name,\n            description: description,\n            password: password,\n        });\n\n        return await storePasswords(passwords);\n    }\n\n    async savePassword(passwordId, name, description, password) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        let category = passwords.find(category => category.passwords.some(password => password.id === passwordId));\n        if (!category)\n            return false;\n\n        let _password = category.passwords.find(password => password.id === passwordId);\n        if (!_password)\n            return false;\n\n        _password.name = name;\n        _password.description = description;\n        _password.password = password;\n        _password.timestamp = Date.now();\n        \n        return await storePasswords(passwords);\n    }\n\n    async removePassword(passwordId) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return false;\n\n        let category = passwords.find(category => category.passwords.some(password => password.id === passwordId));\n        if (!category)\n            return false;\n\n        category.passwords = category.passwords.filter(password => password.id !== passwordId)\n\n        return await storePasswords(passwords);\n    }\n\n    async mergePasswords(newPasswords) {\n\t\tlet [loaded, passwords] = await loadPasswords();\n        if (!loaded)\n            return;\n\n        for (const newCategory of newPasswords) {\n            const category = passwords.find(c => c.id === newCategory.id);\n            if (!category) {\n                passwords.push(newCategory);\n                continue;\n            }\n\n            if (newCategory.timestamp > category.timestamp) {\n                category.title = newCategory.title;\n                category.timestamp = newCategory.timestamp;\n            }\n\n            for (const newPassword of newCategory.passwords) {\n                const password = category.passwords.find(p => p.id === newPassword.id);\n                if (!password) {\n                    category.passwords.push(newPassword);\n                    continue;\n                }\n\n                if (newPassword.timestamp > password.timestamp) {\n                    password.name = newPassword.name;\n                    password.description = newPassword.description;\n                    password.password = newPassword.password;\n                    password.timestamp = newPassword.timestamp;\n                }\n            }\n        }\n\n        storePasswords(passwords);\n    }\n}\n\nasync function loadPasswords() {\n    const [keyLoaded, key] = loadKey();\n    if (!keyLoaded)\n        return [false, null];\n\n    const encryptedDataEntry = localStorage.getItem(\"passwords\");\n    if (!encryptedDataEntry)\n        return [true, []];\n\n    const [iv, data] = parseEncryptedDataEntry(encryptedDataEntry);\n\n    const [decrypted, decryptedData] = await decrypt(key, iv, data);\n    if (!decrypted)\n        return [false, null];\n\n    const passwords = JSON.parse(decryptedData);\n\n    return [true, passwords];\n}\n\nasync function storePasswords(passwords) {\n    const [keyLoaded, key] = loadKey();\n    if (!keyLoaded)\n        return false;\n\n    const passwordData = JSON.stringify(passwords);\n\n    const [encrypted, iv, data] = await encrypt(key, passwordData);\n    if (!encrypted)\n        return false;\n\n    const encryptedDataEntry = createEncryptedDataEntry(iv, data);\n    localStorage.setItem(\"passwords\", encryptedDataEntry);\n\n    return true;\n}","export async function writeToClipboard(value) {\n    navigator.clipboard.writeText(value);\n}","import { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { ContextMenu, ContextMenuContent } from '../../components/context-menu';\nimport { LoadingIndicator } from '../../components/loading-indicator';\nimport { Button, LinkButton } from '../../components/button';\nimport { InputBox } from '../../components/input-box';\nimport { Error } from '../../components/error';\n\nimport { Cog } from '../../icons/cog';\nimport { Key } from '../../icons/key';\n\nimport { PasswordService } from '../../services/passwords';\nimport { writeToClipboard } from '../../services/clipboard';\n\nexport class ListView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\t\tthis.globalHotKeys = this.handleGlobalHotkey.bind(this);\n\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\tpasswords: [],\n\t\t\terror: \"\",\n\t\t\tsearchText: \"\",\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tdocument.addEventListener(\"keyup\", this.globalHotKeys);\n\n\t\tthis.setState({\n\t\t\terror: \"\",\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst [loaded, passwords] = await this.passwordService.listPasswords();\n\t\tif (!loaded) {\n\t\t\treturn this.setState({\n\t\t\t\terror: \"Failed to load passwords\",\n\t\t\t\tloading: false,\n\t\t\t});\n\t\t}\n\n\t\tthis.setState({\n\t\t\tpasswords: passwords,\n\t\t\tloading: false,\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener(\"keyup\", this.globalHotKeys);\n\t}\n\n\thandleGlobalHotkey(event) {\n\t\tif (event.key === \"q\" && event.ctrlKey) {\n\t\t\tconst element = document.querySelector(\".search-box input\");\n\t\t\tif (element) {\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}\n\t\tif (event.key === \"Escape\") {\n\t\t\tthis.setState({\n\t\t\t\tsearchText: \"\",\n\t\t\t});\n\t\t}\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tasync copyDescription(passwordId) {\n\t\tconst [loaded, password] = await this.passwordService.loadPassword(passwordId);\n\t\tif (!loaded)\n\t\t\treturn;\n\n\t\twriteToClipboard(password.description);\n\t}\n\n\tasync copyPassword(passwordId) {\n\t\tconst [loaded, password] = await this.passwordService.loadPassword(passwordId);\n\t\tif (!loaded)\n\t\t\treturn;\n\n\t\twriteToClipboard(password.password);\n\t}\n\n\tlogout() {\n\t\tsessionStorage.removeItem(\"key\");\n\t\tthis.props.logout();\n\t}\n\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"Password manager\"\n\t\t\t\t\t\tdescription=\"Handle your passwords with ease.\">\n\t\t\t\t\t</PageHeader>\n\n\t\t\t\t\t<Error\n\t\t\t\t\t\ttitle=\"Error\"\n\t\t\t\t\t\ttext={this.state.error}>\n\t\t\t\t\t</Error>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tlet filteredPasswords = JSON.parse(JSON.stringify(this.state.passwords));\n\t\tif (this.state.searchText) {\n\t\t\tfor (const category of filteredPasswords) {\n\t\t\t\tcategory.passwords = [...category.passwords].filter(password => fuzzySearch(password.name, this.state.searchText));\n\t\t\t}\n\n\t\t\tfilteredPasswords = filteredPasswords.filter(category => category.passwords.length);\t\t\t\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PageHeader\n\t\t\t\t\ttitle=\"Password manager\"\n\t\t\t\t\tdescription=\"Handle your passwords with ease.\">\n\t\t\t\t\t<ContextMenu>\n\t\t\t\t\t\t<Cog class=\"page-header-icon\" />\n\t\t\t\t\t\t<ContextMenuContent>\n\t\t\t\t\t\t\t<Button clicked={() => this.changeView(\"add_category\")}>Add category</Button>\n\t\t\t\t\t\t\t<Button clicked={() => this.changeView(\"sync\")}>Sync data</Button>\n\t\t\t\t\t\t\t<Button clicked={() => this.logout()}>Logout</Button>\n\t\t\t\t\t\t</ContextMenuContent>\n\t\t\t\t\t</ContextMenu>\n\t\t\t\t</PageHeader>\n\n\t\t\t\t<InputBox\n\t\t\t\t\tclass=\"search-box\"\n\t\t\t\t\tplaceholder=\"Search for passwords (Ctrl + Q)\"\n\t\t\t\t\tvalue={this.state.searchText}\n\t\t\t\t\tvalueChanged={value => this.setState({ searchText: value })}\n\t\t\t\t\taborted={() => this.setState({ searchText: \"\" })}>\n\t\t\t\t</InputBox>\n\n\t\t\t\t<LoadingIndicator loading={this.state.loading}>\n\t\t\t\t\t{!this.state.searchText && filteredPasswords.length === 0 &&\n\t\t\t\t\t\t<div className=\"passwords-empty\">\n\t\t\t\t\t\t\t<LinkButton clicked={() => this.changeView(\"add_category\")}>\n\t\t\t\t\t\t\t\tAdd category\n\t\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.searchText && filteredPasswords.length === 0 &&\n\t\t\t\t\t\t<div className=\"passwords-empty\">\n\t\t\t\t\t\t\t<p>No matches found</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\n\t\t\t\t\t{filteredPasswords.map((category, index) => this.renderCategory(index, category))}\n\t\t\t\t</LoadingIndicator>\n\t\t\t</>\n\t\t);\n\t}\n\n\trenderCategory(index, category) {\n\t\treturn (\n\t\t\t<div key={index}>\n\t\t\t\t<div className=\"category\">\n\t\t\t\t\t<h2 className=\"category-title\">{category.title}</h2>\n\t\t\t\t\t<ContextMenu>\n\t\t\t\t\t\t<Cog class=\"category-icon\" />\n\t\t\t\t\t\t<ContextMenuContent>\n\t\t\t\t\t\t\t<Button clicked={() => this.changeView(\"add_password\", category.id)}>\n\t\t\t\t\t\t\t\tAdd password\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button clicked={() => this.changeView(\"edit_category\", category.id)}>\n\t\t\t\t\t\t\t\tEdit category\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ContextMenuContent>\n\t\t\t\t\t</ContextMenu>\n\t\t\t\t</div>\n\n\t\t\t\t{!this.state.searchText && category.passwords.length === 0 &&\n\t\t\t\t\t<div className=\"passwords-empty\">\n\t\t\t\t\t\t<LinkButton clicked={() => this.changeView(\"add_password\", category.id)}>\n\t\t\t\t\t\t\tAdd password\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t<div className=\"category-items\">\n\t\t\t\t\t{category.passwords.map((password, index) => this.renderPassword(index, password))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderPassword(index, password) {\n\t\treturn (\n            <div key={index} className=\"password animation-fade\">\n                <div>\n                    <h3 className=\"password-title\">\n                        <span onClick={() => this.changeView(\"edit_password\", password.id)}>{password.name}</span>\n                    </h3>\n                    <p className=\"password-description animation-highlight\">\n                        <span onClick={() => this.copyDescription(password.id)}>{password.description}</span>\n                    </p>\n                </div>\n                <div>\n\t\t\t\t\t<Key class=\"password-icon\" clicked={() => this.copyPassword(password.id)} />\n                </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction fuzzySearch(source, value) {\n\tif (source === value) {\n\t\treturn true;\n\t}\n\n\tconst pattern = [...value.toLowerCase()].map(c => `${c}.*`).join(\"\");\n\n\treturn new RegExp(pattern, \"i\").test(source.toLowerCase());\n}","import { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { LoadingIndicator } from '../../components/loading-indicator';\nimport { Button } from '../../components/button';\nimport { InputBox } from '../../components/input-box';\nimport { Error } from '../../components/error';\n\nimport { PasswordService } from '../../services/passwords';\n\nexport class AddCategoryView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\terror: \"\",\n\t\t\ttitle: \"\",\n\t\t\ttitleError: \"\",\n\t\t};\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tchangeTitle(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No name entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\ttitle: value,\n\t\t\ttitleError: error,\n\t\t});\n\t}\n\n\tasync addCategory() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\terror: \"\",\n\t\t});\n\n\t\tconst created = await this.passwordService.createCategory(this.state.title);\n\t\tif (!created) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to create category\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"New category\" \n\t\t\t\t\t\tdescription=\"Categories are used to group similar passwords together so that it's easier to overview.\">\n\t\t\t\t\t</PageHeader>\n\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Error\" \n\t\t\t\t\t\ttext={this.state.error}>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tconst disabled = !this.state.title || !!this.state.titleError;\n\n\t\treturn (\n\t\t\t<>\n                <PageHeader \n\t\t\t\t\ttitle=\"New category\" \n                    description=\"Categories are used to group similar passwords together so that it's easier to overview.\">\n\t\t\t\t</PageHeader>\n\n\t\t\t\t<LoadingIndicator loading={this.state.loading}>\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tplaceholder=\"Enter name\"\n\t\t\t\t\t\tfocus={true}\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\tvalueChanged={value => this.changeTitle(value)}\n\t\t\t\t\t\terror={this.state.titleError}>\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<div className=\"button-grid\">\n\t\t\t\t\t\t<Button disabled={disabled} clicked={() => this.addCategory()}>\n\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</LoadingIndicator>\n            </>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nimport './checkbox.css';\n\nexport class CheckBox extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            checked: props.value,\n        };\n    }\n\n    toggle() {\n        const checked = !this.state.checked;\n        this.setState({checked: checked});\n\n        if (this.props.toggled) {\n            this.props.toggled(checked);\n        }\n    }\n\n    render() {\n        const checked = this.state.checked ? \"checked\" : \"\";\n\n        return (\n            <div className={`check-box ${checked}`}>\n                <div className=\"switch-container\" onClick={() => this.toggle()}>\n                    <div className=\"switch\"></div>\n                </div>\n\n                { this.props.label &&\n                    <label>{ this.props.label }</label>\n                }\n            </div>\n        );\n    }\n}","import { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { LoadingIndicator } from '../../components/loading-indicator';\nimport { Button } from '../../components/button';\nimport { CheckBox } from '../../components/checkbox';\nimport { InputBox } from '../../components/input-box';\nimport { Error } from '../../components/error';\n\nimport { PasswordService } from '../../services/passwords';\n\nexport class EditCategoryView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\terror: \"\",\n\t\t\ttitle: \"\",\n\t\t\ttitleError: \"\",\n\t\t\tconfirmReset: false,\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst [loaded, category] = await this.passwordService.loadCategory(this.props.categoryId);\n\t\tif (!loaded) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to load category\",\n\t\t\t});\n\t\t}\n\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\ttitle: category.title,\n\t\t});\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tchangeTitle(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No name entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\ttitle: value,\n\t\t\ttitleError: error,\n\t\t});\n\t}\n\n\tasync saveCategory() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst saved = await this.passwordService.saveCategory(this.props.categoryId, this.state.title);\n\t\tif (!saved) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to save category\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\tasync removeCategory() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst removed = await this.passwordService.removeCategory(this.props.categoryId);\n\t\tif (!removed) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to remove category\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"Edit category\" \n\t\t\t\t\t\tdescription=\"Categories are used to group similar passwords together so that it's easier to overview.\">\n\t\t\t\t\t</PageHeader>\n\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Error\" \n\t\t\t\t\t\ttext={this.state.error}>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tconst disabled = !this.state.title || !!this.state.titleError;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PageHeader \n\t\t\t\t\ttitle=\"Edit category\" \n                    description=\"Categories are used to group similar passwords together so that it's easier to overview.\">\n\t\t\t\t</PageHeader>\n\n\t\t\t\t<LoadingIndicator loading={this.state.loading}>\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tplaceholder=\"Enter name\"\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\tvalueChanged={value => this.changeTitle(value)}\n\t\t\t\t\t\terror={this.state.titleError}>\n\t\t\t\t\t</InputBox>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"button-grid\">\n\t\t\t\t\t\t<Button disabled={disabled} clicked={() => this.saveCategory()}>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Danger\" \n\t\t\t\t\t\ttext=\"Removing this category will also remove all of its passwords, it's not possible to restore any passwords once they have been removed.\">\n\t\t\t\t\t\t<CheckBox \n\t\t\t\t\t\t\tlabel=\"Confirm that I want to remove this category\"\n\t\t\t\t\t\t\tchecked={this.state.confirmRemove} \n\t\t\t\t\t\t\ttoggled={value => this.setState({confirmRemove: value})}>\n\t\t\t\t\t\t</CheckBox>\n\n\t\t\t\t\t\t<Button class=\"error-button\" clicked={() => this.removeCategory()} disabled={!this.state.confirmRemove}>\n\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</LoadingIndicator>\n\t\t\t</>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nexport class Generate extends Component {\n    clicked() {\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n\trender() {\n\t\treturn (\n            <svg className={this.props.class} viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" onClick={() => this.clicked()}>\n\t\t\t\t<path d=\"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z\" />\n\t\t\t</svg>\n\t\t);\n\t}\n}","import { adjectives, nouns, verbs } from './wordlist.json';\n\nexport function generatePassphrase() {\n    return `${randomWord(adjectives)} ${randomWord(nouns)} ${randomWord(verbs)} ${randomWord(adjectives)} ${randomWord(nouns)}`;\n}\n\nfunction randomWord(wordlist) {\n    const randomIndex = Math.floor(Math.random() * wordlist.length);\n    return wordlist[randomIndex];\n}","import { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { LoadingIndicator } from '../../components/loading-indicator';\nimport { Button } from '../../components/button';\nimport { InputBox } from '../../components/input-box';\nimport { Error } from '../../components/error';\n\nimport { Generate } from '../../icons/generate';\n\nimport { PasswordService } from '../../services/passwords';\nimport { generatePassphrase } from '../../services/passphrase';\n\nexport class AddPasswordView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\terror: \"\",\n\t\t\tname: \"\",\n\t\t\tnameError: \"\",\n\t\t\tdescription: \"\",\n\t\t\tpassword: \"\",\n\t\t\tpasswordError: \"\",\n\t\t};\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tchangeName(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No name entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\tname: value,\n\t\t\tnameError: error,\n\t\t});\n\t}\n\n\tchangePassword(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No password entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\tpassword: value,\n\t\t\tpasswordError: error,\n\t\t});\n\t}\n\n\tgeneratePassphrase() {\n\t\tconst passphrase = generatePassphrase();\n\t\tthis.setState({\n\t\t\tpassword: passphrase,\n\t\t});\n\t}\n\n\tasync addPassword() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\terror: \"\",\n\t\t});\n\n\t\tconst created = await this.passwordService.createPassword(this.props.categoryId, this.state.name, this.state.description, this.state.password);\n\t\tif (!created) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to create password\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"Add password\">\n\t\t\t\t\t</PageHeader>\n\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Error\" \n\t\t\t\t\t\ttext={this.state.error}>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tconst disabled = !this.state.name || !!this.state.nameError || !this.state.password || !!this.state.passwordError;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PageHeader \n\t\t\t\t\ttitle=\"Add password\">\n\t\t\t\t</PageHeader>\n\n\t\t\t\t<LoadingIndicator loading={this.state.loading}>\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tplaceholder=\"Enter name\"\n\t\t\t\t\t\tfocus={true}\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\tvalueChanged={value => this.changeName(value)}\n\t\t\t\t\t\terror={this.state.nameError}>\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tplaceholder=\"Enter description\"\n\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\tvalueChanged={value => this.setState({description: value})}>\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tvalueChanged={value => this.changePassword(value)}\n\t\t\t\t\t\terror={this.state.passwordError}>\n\t\t\t\t\t\t<Generate class=\"input-box-icon\" clicked={() => this.generatePassphrase()} />\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<div className=\"button-grid\">\n\t\t\t\t\t\t<Button disabled={disabled} clicked={() => this.addPassword()}>\n\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</LoadingIndicator>\n\t\t\t</>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nexport class Copy extends Component {\n    clicked() {\n        if (this.props.clicked)\n            this.props.clicked();\n    }\n\n\trender() {\n\t\treturn (\n            <svg className={this.props.class} viewBox=\"0 0 442 442\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" onClick={() => this.clicked()}>\n\t\t\t\t<polygon points=\"291,0 51,0 51,332 121,332 121,80 291,80\" />\n\t\t\t\t<polygon points=\"306,125 306,195 376,195\" />\n\t\t\t\t<polygon points=\"276,225 276,110 151,110 151,442 391,442 391,225\" />\n\t\t\t</svg>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { LoadingIndicator } from '../../components/loading-indicator';\nimport { Button } from '../../components/button';\nimport { CheckBox } from '../../components/checkbox';\nimport { InputBox } from '../../components/input-box';\nimport { Error } from '../../components/error';\n\nimport { Copy } from '../../icons/copy';\n\nimport { PasswordService } from '../../services/passwords';\nimport { writeToClipboard } from '../../services/clipboard';\n\nexport class EditPasswordView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\terror: \"\",\n\t\t\tname: \"\",\n\t\t\tnameError: \"\",\n\t\t\tdescription: \"\",\n\t\t\tpassword: \"\",\n\t\t\tpasswordError: \"\",\n\t\t\tconfirmReset: false,\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst [loaded, password] = await this.passwordService.loadPassword(this.props.passwordId);\n\t\tif (!loaded) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to load password\",\n\t\t\t});\n\t\t}\n\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\tname: password.name,\n\t\t\tdescription: password.description,\n\t\t\tpassword: password.password,\n\t\t});\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tchangeName(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No name entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\tname: value,\n\t\t\tnameError: error,\n\t\t});\n\t}\n\n\tchangePassword(value) {\n\t\tlet error = \"\";\n\t\tif (!value) {\n\t\t\terror = \"No password entered\"\n\t\t}\n\n\t\tthis.setState({\n\t\t\tpassword: value,\n\t\t\tpasswordError: error,\n\t\t});\n\t}\n\n\tasync copyDescription() {\n\t\twriteToClipboard(this.state.description);\n\t}\n\n\tasync copyPassword() {\n\t\twriteToClipboard(this.state.password);\n\t}\n\n\tasync savePassword() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst saved = await this.passwordService.savePassword(this.props.passwordId, this.state.name, this.state.description, this.state.password);\n\t\tif (!saved) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to save password\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\tasync removePassword() {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\n\t\tconst removed = await this.passwordService.removePassword(this.props.passwordId);\n\t\tif (!removed) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: \"Failed to remove password\",\n\t\t\t});\n\t\t}\n\n\t\tthis.changeView(\"list\");\n\t}\n\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"Edit password\">\n\t\t\t\t\t</PageHeader>\n\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Error\" \n\t\t\t\t\t\ttext={this.state.error}>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tconst disabled = !this.state.name || !!this.state.nameError || !this.state.password || !!this.state.passwordError;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PageHeader \n\t\t\t\t\ttitle=\"Edit password\">\n\t\t\t\t</PageHeader>\n\n\t\t\t\t<LoadingIndicator loading={this.state.loading}>\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\tplaceholder=\"Enter name\"\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\tvalueChanged={value => this.changeName(value)}\n\t\t\t\t\t\terror={this.state.nameError}>\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tplaceholder=\"Enter description\"\n\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\tvalueChanged={value => this.setState({description: value})}>\n\t\t\t\t\t\t<Copy class=\"input-box-icon\" clicked={() => this.copyDescription()} />\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<InputBox\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tmandatory={true}\n\t\t\t\t\t\tpassword={true}\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tvalueChanged={value => this.changePassword(value)}\n\t\t\t\t\t\terror={this.state.passwordError}>\n\t\t\t\t\t\t<Copy class=\"input-box-icon\" clicked={() => this.copyPassword()} />\n\t\t\t\t\t</InputBox>\n\n\t\t\t\t\t<div className=\"button-grid\">\n\t\t\t\t\t\t<Button disabled={disabled} clicked={() => this.savePassword()}>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<Error \n\t\t\t\t\t\ttitle=\"Danger\" \n\t\t\t\t\t\ttext=\"It's not possible to restore the password once it has been removed.\">\n\t\t\t\t\t\t<CheckBox \n\t\t\t\t\t\t\tlabel=\"Confirm that I want to remove this password\"\n\t\t\t\t\t\t\tchecked={this.state.confirmRemove} \n\t\t\t\t\t\t\ttoggled={value => this.setState({confirmRemove: value})}>\n\t\t\t\t\t\t</CheckBox>\n\n\t\t\t\t\t\t<Button class=\"error-button\" clicked={() => this.removePassword()} disabled={!this.state.confirmRemove}>\n\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Error>\n\t\t\t\t</LoadingIndicator>\n\t\t\t</>\n\t\t);\n\t}\n}","export class WebRtcService {\n    constructor(id) {\n        this.socket = new WebSocket(\"wss://cortex-webrtc-signaling.herokuapp.com/\");\n\n        const configuration = {};\n        this.rtc = new RTCPeerConnection(configuration);\n\n        this.connected = () => { };\n        this.disconnected = () => { };\n        this.message = msg => { };\n\n        this.setupWebSocket(id);\n        this.setupWebRtc();\n    }\n\n    closeConnection() {\n        this.socket.close();\n        this.rtc.close();\n    }\n\n    setupWebSocket(id) {\n        this.socket.onmessage = event => {\n            const message = JSON.parse(event.data);\n\n            if (message.type === \"make_offer\") {\n                this.makeOffer();\n            }\n            if (message.type === \"make_answer\") {\n                this.makeAnswer(message.data);\n            }\n            if (message.type === \"accept_answer\") {\n                this.acceptAnswer(message.data);\n            }\n        };\n        this.socket.onopen = _ => {\n            this.socket.send(JSON.stringify({\n                type: \"connect\",\n                data: id,\n            }));\n        };\n    }\n\n    setupWebRtc() {\n        this.rtc.ondatachannel = event => {\n            this.setupWebRtcChannel(event.channel);\n        };\n    }\n\n    setupWebRtcChannel(channel) {\n        this.rtc.channel = channel;\n        this.rtc.channel.onmessage = event => {\n            this.message(event.data);\n        };\n        this.rtc.channel.onopen = () => {\n            this.socket.close();\n            this.connected();\n        };\n        this.rtc.channel.onclose = () => {\n            this.disconnected();\n        };\n    }\n\n    async makeOffer() {\n        const channel = this.rtc.createDataChannel(\"data\");\n        this.setupWebRtcChannel(channel);\n\n        let timeout = null;\n        this.rtc.onicecandidate = event => {\n            if (!event.candidate) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                }\n\n                timeout = setTimeout(() => {\n                    this.socket.send(JSON.stringify({\n                        type: \"offer\",\n                        data: this.rtc.localDescription,\n                    }));\n                }, 100);\n            }\n        };\n\n        const offer = await this.rtc.createOffer();\n        await this.rtc.setLocalDescription(offer);\n    }\n\n    async makeAnswer(offer) {\n        await this.rtc.setRemoteDescription(offer);\n\n        let timeout = null;\n        this.rtc.onicecandidate = event => {\n            if (!event.candidate) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                }\n\n                timeout = setTimeout(() => {\n                    this.socket.send(JSON.stringify({\n                        type: \"answer\",\n                        data: this.rtc.localDescription,\n                    }));\n                }, 100);\n            }\n        };\n\n        const answer = await this.rtc.createAnswer();\n        await this.rtc.setLocalDescription(answer);\n    }\n\n    async acceptAnswer(answer) {\n        await this.rtc.setRemoteDescription(answer);\n    }\n\n    async sendMessage(data) {\n        if (!this.rtc.channel)\n            return;\n\n        this.rtc.channel.send(data);\n    }\n}","import { v4 as uuidv4 } from 'uuid';\nimport { Component } from 'react';\n\nimport { PageHeader } from '../../components/page-header';\nimport { Button } from '../../components/button';\nimport { CheckBox } from '../../components/checkbox';\nimport { Error } from '../../components/error';\n\nimport { WebRtcService } from '../../services/webrtc';\nimport { decrypt, loadKey } from '../../services/crypto';\nimport { PasswordService } from '../../services/passwords';\n\nimport './sync.css';\n\nexport class SyncView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.passwordService = new PasswordService();\n\n\t\tthis.state = {\n\t\t\tstate: \"not-connected\",\n\t\t\tconfirmReset: false,\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tconst [keyLoaded, key] = loadKey();\n\t\tif (!keyLoaded)\n\t\t\treturn;\n\n\t\tconst id = uuidv4({random: key});\n\n\t\tthis.webRtcService = new WebRtcService(id);\n\t\tthis.webRtcService.connected = () => {\n\t\t\tthis.setState({\n\t\t\t\tstate: \"connected\",\n\t\t\t});\n\n\t\t\tthis.sendPasswords();\n\t\t};\n\t\tthis.webRtcService.disconnected = () => {\n\t\t\tthis.setState({\n\t\t\t\tstate: \"not-connected\",\n\t\t\t});\n\t\t};\n\t\tthis.webRtcService.message = msg => {\n\t\t\tconst {type, data} = JSON.parse(msg);\n\n\t\t\tif (type === \"sync_passwords\") {\n\t\t\t\treturn this.syncPasswords(data);\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.webRtcService.closeConnection();\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.props.changeView(view, id);\n\t}\n\n\tresetData() {\n\t\tsessionStorage.removeItem(\"key\");\n\t\tlocalStorage.removeItem(\"verification\");\n\t\tlocalStorage.removeItem(\"passwords\");\n\t\tthis.props.logout();\n\t}\n\n\tsendPasswords() {\n\t\tthis.setState({\n\t\t\tstate: \"syncing\",\n\t\t});\n\n\t\tconst encryptedDataEntry = localStorage.getItem(\"passwords\");\n\t\tif (!encryptedDataEntry) {\n\t\t\treturn this.setState({\n\t\t\t\tstate: \"finished\",\n\t\t\t});\n\t\t}\n\t\n\t\tthis.webRtcService.sendMessage(JSON.stringify({\n\t\t\ttype: \"sync_passwords\",\n\t\t\tdata: encryptedDataEntry,\n\t\t}));\n\t}\n\n\tasync syncPasswords(data) {\n\t\tconst [keyLoaded, key] = loadKey();\n\t\tif (!keyLoaded)\n\t\t\treturn;\n\n\t\tconst {iv, bytes} = JSON.parse(data);\n\n\t\tconst [decrypted, decryptedData] = await decrypt(key, new Uint8Array(iv), new Uint8Array(bytes));\n\t\tif (!decrypted)\n\t\t\treturn;\n\n\t\tconst passwords = JSON.parse(decryptedData);\n\n\t\tthis.passwordService.mergePasswords(passwords);\n\n\t\tthis.setState({\n\t\t\tstate: \"finished\",\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n            <div className=\"sync-data-page\">\n\t\t\t\t<PageHeader \n\t\t\t\t\ttitle=\"Sync data\"\n\t\t\t\t\tdescription=\"To sync data between device both of them needs to have the same master password and then enter this page.\">\n\t\t\t\t</PageHeader>\n\n\t\t\t\t{ this.renderStatus() }\n\n\t\t\t\t<div className=\"button-grid\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<Button class=\"error-button\" clicked={() => this.changeView(\"list\")}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n                <Error title=\"Reset data\" text=\"It is not possible to restore any data once the device has been reset.\">\n\t\t\t\t\t<CheckBox \n\t\t\t\t\t\tlabel=\"Confirm that I want to reset this device data\"\n\t\t\t\t\t\tchecked={this.state.confirmReset} \n\t\t\t\t\t\ttoggled={value => this.setState({confirmReset: value})}>\n\t\t\t\t\t</CheckBox>\n\n                    <Button class=\"error-button\" clicked={() => this.resetData()} disabled={!this.state.confirmReset}>\n                        Reset device data\n                    </Button>\n                </Error>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderStatus() {\n\t\tif (this.state.state === \"syncing\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"connection-status\">\n\t\t\t\t\t<div className=\"connection-status-icon syncing\"></div>\n\t\t\t\t\t<span>Syncing</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.state === \"finished\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"connection-status\">\n\t\t\t\t\t<div className=\"connection-status-icon finished\"></div>\n\t\t\t\t\t<span>Finished syncing passwords</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.state === \"connected\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"connection-status\">\n\t\t\t\t\t<div className=\"connection-status-icon connected\"></div>\n\t\t\t\t\t<span>Connected</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div className=\"connection-status\">\n\t\t\t\t<div className=\"connection-status-icon not-connected\"></div>\n\t\t\t\t<span>Not connected</span>\n\t\t\t</div>\n\t\t);\n\t}\n}","import { Component } from 'react';\n\nimport { ListView } from './listView';\nimport { AddCategoryView } from './addCategoryView';\nimport { EditCategoryView } from './editCategoryView';\nimport { AddPasswordView } from './addPasswordView';\nimport { EditPasswordView } from './editPasswordView';\nimport { SyncView } from './syncView';\n\nimport './passwords.css';\n\nexport class PasswordsPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tview: \"list\",\n\t\t\tid: \"\",\n\t\t};\n\t}\n\n\tchangeView(view, id) {\n\t\tthis.setState({\n\t\t\tview: view,\n\t\t\tid: id,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"main-layout\">\n\t\t\t{ this.state.view === \"sync\" &&\n\t\t\t\t<SyncView changeView={(view, id) => this.changeView(view, id)} logout={() => this.props.logout()} />\n\t\t\t}\n\t\t\t{ this.state.view === \"list\" &&\n\t\t\t\t<ListView changeView={(view, id) => this.changeView(view, id)} logout={() => this.props.logout()} />\n\t\t\t}\n\t\t\t{ this.state.view === \"add_category\" &&\n\t\t\t\t<AddCategoryView changeView={(view, id) => this.changeView(view, id)} />\n\t\t\t}\n\t\t\t{ this.state.view === \"edit_category\" &&\n\t\t\t\t<EditCategoryView changeView={(view, id) => this.changeView(view, id)} categoryId={this.state.id} />\n\t\t\t}\n\t\t\t{ this.state.view === \"add_password\" &&\n\t\t\t\t<AddPasswordView changeView={(view, id) => this.changeView(view, id)} categoryId={this.state.id} />\n\t\t\t}\n\t\t\t{ this.state.view === \"edit_password\" &&\n\t\t\t\t<EditPasswordView changeView={(view, id) => this.changeView(view, id)} passwordId={this.state.id} />\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}","import { Component, StrictMode } from 'react';\nimport { render } from 'react-dom';\n\nimport { LoginPage } from './pages/login/loginPage';\nimport { PasswordsPage } from './pages/passwords/passwordsPage';\n\nimport { loadKey } from './services/crypto';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedIn: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst [loggedIn, ] = loadKey();\n\n\t\tthis.setState({\n\t\t\tloggedIn: loggedIn,\n\t\t});\n\t}\n\n\trender() {\n\t\tif (!this.state.loggedIn) {\n\t\t\treturn (\n\t\t\t\t<LoginPage login={() => this.setState({ loggedIn: true })} />\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<PasswordsPage logout={() => this.setState({ loggedIn: false })} />\n\t\t);\n\t}\n}\n\nrender(\n\t<StrictMode>\n\t\t<App />\n\t</StrictMode>,\n\tdocument.getElementById(\"root\")\n);"],"sourceRoot":""}